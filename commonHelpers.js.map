{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n  const URL = 'https://pixabay.com/api/';\n  const API_KEY = '45282736-76f00277f987f73abb95d9f87';\n\n  return fetch(\n    `${URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderImageCard(data) {\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n  const gallery = document.querySelector('.gallery');\n\n  const markup = data.hits\n    .map(\n      image => `<div class=\"image-wrapper\">\n    <a href=\"${image.largeImageURL}\">\n    <img class=\"gallery-images\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"></img>\n    </a>\n    <div class=\"text-wrapper\">\n    <div class=\"text-item\"><h5 class=\"text-header\">Likes</h5><p class=\"text-info\">${image.likes}</p></div>\n    <div class=\"text-item\"><h5 class=\"text-header\">Views</h5><p class=\"text-info\">${image.views}</p></div>\n    <div class=\"text-item\"><h5 class=\"text-header\">Comments</h5><p class=\"text-info\">${image.comments}</p></div>\n    <div class=\"text-item\"><h5 class=\"text-header\">Downloads</h5><p class=\"text-info\">${image.downloads}</p></div>\n    </div>\n    </div>`\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  lightbox.refresh();\n}\n\nexport function clearGallery(container) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport '../src/css/styles.css';\nimport { fetchImages } from './js/pixabay-api';\nimport { renderImageCard, clearGallery } from './js/render-functions';\n\nconst searchForm = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nconst input = document.querySelector('.input-text');\n\nsearchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n  clearGallery();\n  loader.classList.remove('hidden');\n\n  const searchWord = input.value.trim().toLowerCase();\n  fetchImages(`${searchWord}`).then(data => {\n    if (data.total === 0 || searchWord === '') {\n      iziToast.error({\n        position: 'topRight',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      loader.classList.add('hidden');\n      return;\n    } else {\n      renderImageCard(data);\n    }\n    loader.classList.add('hidden');\n  });\n  searchForm.reset();\n}\n"],"names":["fetchImages","query","response","error","renderImageCard","data","lightbox","SimpleLightbox","gallery","markup","image","clearGallery","container","searchForm","loader","input","handleSearch","event","searchWord","iziToast"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAIjC,OAAO,MACL,qEAA2BA,CAAK,0DACjC,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CCbO,SAASC,EAAgBC,EAAM,CACpC,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,EACKC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAASJ,EAAK,KACjB,IACCK,GAAS;AAAA,eACAA,EAAM,aAAa;AAAA,uCACKA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,oFAGOA,EAAM,KAAK;AAAA,oFACXA,EAAM,KAAK;AAAA,uFACRA,EAAM,QAAQ;AAAA,wFACbA,EAAM,SAAS;AAAA;AAAA,WAGlG,EACA,KAAK,EAAE,EACVF,EAAQ,mBAAmB,YAAaC,CAAM,EAE9CH,EAAS,QAAO,CAClB,CAEO,SAASK,EAAaC,EAAW,CACtC,MAAMJ,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CC7BA,MAAMK,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,aAAa,EAElDF,EAAW,iBAAiB,SAAUG,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBN,IACAG,EAAO,UAAU,OAAO,QAAQ,EAEhC,MAAMI,EAAaH,EAAM,MAAM,KAAM,EAAC,YAAW,EACjDf,EAAY,GAAGkB,CAAU,EAAE,EAAE,KAAKb,GAAQ,CACxC,GAAIA,EAAK,QAAU,GAAKa,IAAe,GAAI,CACzCC,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACV,CAAO,EACDL,EAAO,UAAU,IAAI,QAAQ,EAC7B,MACN,MACMV,EAAgBC,CAAI,EAEtBS,EAAO,UAAU,IAAI,QAAQ,CACjC,CAAG,EACDD,EAAW,MAAK,CAClB"}